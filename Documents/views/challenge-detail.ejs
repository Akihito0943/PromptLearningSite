<% 
const pageTitle = challenge.title[lang];
const body = `
  <section class="container">
    <div class="challenge-detail">
      <h1 class="card-title" style="font-size: 2rem; margin-bottom: 1rem;">${challenge.title[lang]}</h1>
      
      <div class="challenge-meta">
        <span class="badge badge-${challenge.difficulty}">${t.challenges.difficulty}: ${t.challenges[challenge.difficulty]}</span>
        <span class="badge badge-xp">${t.challenges.xp_reward}: +${challenge.xpReward} XP</span>
      </div>
      
      <div class="mb-3">
        <h3 style="font-size: 1.25rem; margin-bottom: 0.5rem;">${t.challenge_detail.description}</h3>
        <p style="color: var(--text-light);">${challenge.description[lang]}</p>
      </div>
      
      <div class="mb-4">
        <h3 style="font-size: 1.25rem; margin-bottom: 0.5rem;">${t.challenge_detail.goal}</h3>
        <p style="color: var(--text-light); font-weight: 600;">${challenge.goal[lang]}</p>
      </div>
      
      <div class="mb-2">
        <h3 style="font-size: 1.25rem; margin-bottom: 0.5rem;">${t.challenge_detail.your_prompt}</h3>
        <textarea 
          id="prompt-input" 
          class="prompt-input" 
          placeholder="${t.challenge_detail.prompt_placeholder}"
          data-challenge-id="${challenge.id}"
        ></textarea>
        <p style="color: var(--text-light); font-size: 0.875rem; margin-top: 0.5rem;">
          ðŸ’¡ Tip: Press Ctrl+Enter to submit
        </p>
      </div>
      
      <button 
        id="submit-btn" 
        class="btn btn-primary" 
        onclick="submitPrompt(${challenge.id})"
        style="width: 100%;"
      >
        ${t.challenge_detail.submit}
      </button>
    </div>
    
    <!-- Result Box (initially hidden) -->
    <div id="result-box" class="result-box hidden"></div>
    
    <div class="text-center mt-3">
      <a href="/challenges?lang=${lang}" class="btn btn-secondary">${t.nav.challenges}</a>
    </div>
  </section>
`;
%>
<%- include('layout', { pageTitle, body, t, lang }) %>
